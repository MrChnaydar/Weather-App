import{o as z}from"./chunk-LZKZON6O.js";import{$a as C,Eb as P,La as N,Q as c,Ra as _,T as o,X as y,a as h,ba as v,c as u,ha as a,ia as w,na as I,p as m}from"./chunk-R7Y5NVAT.js";var ce=new c("Ng Glyph Config");var le=new c("NgGlyphsToken");function E(t){return t==null?"":/^\d+$/.test(t)?`${t}px`:t}var k=new c("Ng Icon Pre Processor"),M=new c("Ng Icon Post Processor");function S(){return o(k,{optional:!0})??(t=>t)}function j(){return o(M,{optional:!0})??(()=>{})}var L=new c("Ng Icon Logger"),p=class{log(r){console.log(r)}warn(r){console.warn(r)}error(r){console.error(r)}};function T(){return o(L,{optional:!0})??new p}var D=new c("Ng Icon Config");function R(){return o(D,{optional:!0})??{}}var b=new c("Ng Icon Loader Token");var A=new c("Ng Icon Cache Token");function G(){return o(b,{optional:!0})}function O(){return o(A,{optional:!0})}function ae(t){return[{provide:f,useFactory:(r=o(f,{optional:!0,skipSelf:!0}))=>h(h({},r?.reduce((e,n)=>h(h({},e),n),{})),t),multi:!0}]}var f=new c("Icons Token");function V(){return o(f,{optional:!0})??[]}function F(t){return typeof t=="string"?Promise.resolve(t):m(t)?t.toPromise():t}function $(t){return t.replace(/([^a-zA-Z0-9])+(.)?/g,(r,e,n)=>n?n.toUpperCase():"").replace(/[^a-zA-Z\d]/g,"").replace(/^([A-Z])/,r=>r.toLowerCase())}var q=0,he=(()=>{class t{constructor(){this.config=R(),this.icons=V(),this.loader=G(),this.cache=O(),this.preProcessor=S(),this.postProcessor=j(),this.injector=o(v),this.renderer=o(N),this.platform=o(I),this.elementRef=o(w),this.uniqueId=q++,this.logger=T(),this.name=a(),this.svg=a(),this.size=a(this.config.size,{transform:E}),this.strokeWidth=a(this.config.strokeWidth),this.color=a(this.config.color),P(()=>this.updateIcon())}ngOnDestroy(){this.svgElement=void 0}updateIcon(){return u(this,null,function*(){let e=this.name(),n=this.svg();if(n!==void 0){this.setSvg(n);return}if(e===void 0)return;let i=$(e);for(let s of[...this.icons].reverse())if(s[i]){this.setSvg(s[i]);return}if(this.loader){let s=yield this.requestIconFromLoader(e);if(s!==null){this.setSvg(s);return}}this.logger.warn(`No icon named ${e} was found. You may need to import it using the withIcons function.`)})}setSvg(e){if(z(this.platform)){this.elementRef.nativeElement.innerHTML=e,this.elementRef.nativeElement.setAttribute("data-ng-icon-ssr","");return}if(this.elementRef.nativeElement.hasAttribute("data-ng-icon-ssr")&&(this.elementRef.nativeElement.removeAttribute("data-ng-icon-ssr"),this.svgElement=this.elementRef.nativeElement.querySelector("svg")??void 0,this.elementRef.nativeElement.innerHTML===e)||(this.svgElement&&this.renderer.removeChild(this.elementRef.nativeElement,this.svgElement),e===""))return;let n=this.renderer.createElement("template");e=this.replaceIds(e),this.renderer.setProperty(n,"innerHTML",this.preProcessor(e)),this.svgElement=n.content.firstElementChild,this.postProcessor(this.svgElement),this.renderer.appendChild(this.elementRef.nativeElement,this.svgElement)}replaceIds(e){if(!e.includes("ID_PLACEHOLDER_"))return e;let n=/ID_PLACEHOLDER_(\d+)/g,i=new Map,s=new Set(e.match(n));if(s===null)return e;for(let l of s){let g=l.replace("ID_PLACEHOLDER_",""),d=`ng-icon-${this.uniqueId}-${i.size}`;i.set(g,d),e=e.replace(new RegExp(l,"g"),d)}return e}requestIconFromLoader(e){return new Promise(n=>{y(this.injector,()=>u(this,null,function*(){if(this.cache){let l=this.cache.get(e);if(typeof l=="string"){n(l);return}if(l instanceof Promise){let g=yield l;n(g);return}}let i=F(this.loader(e));this.cache?.set(e,i);let s=yield i;this.cache?.set(e,s),n(s)}))})}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=_({type:t,selectors:[["ng-icon"]],hostVars:6,hostBindings:function(n,i){n&2&&C("--ng-icon__stroke-width",i.strokeWidth())("--ng-icon__size",i.size())("--ng-icon__color",i.color())},inputs:{name:[1,"name"],svg:[1,"svg"],size:[1,"size"],strokeWidth:[1,"strokeWidth"],color:[1,"color"]},decls:0,vars:0,template:function(n,i){},styles:["[_nghost-%COMP%]{display:inline-block;width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em);line-height:initial;vertical-align:initial;overflow:hidden}[_nghost-%COMP%]     svg{width:inherit;height:inherit;vertical-align:inherit}@layer ng-icon{[_nghost-%COMP%]{color:var(--ng-icon__color, currentColor)}}"],changeDetection:0})}}return t})();export{ae as a,he as b};
