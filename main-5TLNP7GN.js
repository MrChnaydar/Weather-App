import{a as R,b as H,e as j,f as E,g as U,h as G,j as Y,n as Z}from"./chunk-IUNAFIQ3.js";import{a as A,b as W,d as I,e as d,f as _,h as N,i as w}from"./chunk-GMTFT7DV.js";import{a as F}from"./chunk-SKQ4KEL5.js";import{a as h,b as u}from"./chunk-WPACMQBH.js";import"./chunk-LZKZON6O.js";import{J as c,N as T,Ra as s,T as m,Ua as M,db as O,gb as i,hb as r,i as x,ib as a,ja as L,sb as D,wb as p,zb as P}from"./chunk-R7Y5NVAT.js";var $=[{path:"",pathMatch:"full",loadComponent:()=>import("./chunk-4IENO2QX.js").then(t=>t.WelcomeComponent)},{path:"home",loadComponent:()=>import("./chunk-EE2XHFHI.js").then(t=>t.HomeComponent)},{path:"settings",loadComponent:()=>import("./chunk-LOYTHT7X.js").then(t=>t.SettingsComponent)},{path:"login",loadComponent:()=>import("./chunk-RGJWQ3GX.js").then(t=>t.LoginComponent)},{path:"notifications",loadComponent:()=>import("./chunk-AOHFFD2V.js").then(t=>t.NotificationsComponent)},{path:"map",loadComponent:()=>import("./chunk-WVT2COQF.js").then(t=>t.MapPageComponent)},{path:"calendar",loadComponent:()=>import("./chunk-SDD6K4N3.js").then(t=>t.CalendarComponent)},{path:"stats",loadComponent:()=>import("./chunk-U6XED7DN.js").then(t=>t.StatsComponent)}];var q={providers:[P({eventCoalescing:!0}),_($),A()]};var g=class t{static \u0275fac=function(o){return new(o||t)};static \u0275cmp=s({type:t,selectors:[["app-sidebar"]],features:[p([],[h({hugeMenuCircle:U,hugeMaps:E,hugeLocation01:j,hugeCalendar03:R,hugeSettings01:Y,hugeChartRing:H})])],decls:7,vars:0,consts:[["src","Animated Cloud.gif","alt","Website logo icon","routerLink","/",1,"LogoIcon"],["name","hugeMenuCircle","routerLink","/home"],["name","hugeMaps","routerLink","/map"],["name","hugeCalendar03","routerLink","/calendar"],["name","hugeChartRing","routerLink","/stats"],["name","hugeSettings01","routerLink","/settings"]],template:function(o,n){o&1&&(i(0,"div"),a(1,"img",0)(2,"ng-icon",1)(3,"ng-icon",2)(4,"ng-icon",3)(5,"ng-icon",4)(6,"ng-icon",5),r())},dependencies:[u,d],styles:["*[_ngcontent-%COMP%]{margin:0}ng-icon[_ngcontent-%COMP%]{cursor:pointer;color:#fff;width:2em;height:2em;width:3.5vw;height:3vh;padding:1.2vh 0em;margin:1.8vh 0em}ng-icon[_ngcontent-%COMP%]:hover{border-left:white solid 1px;background-image:linear-gradient(to right,#050064cc,#0000);transition:.5s ease-in-out}ng-icon[_ngcontent-%COMP%]:focus{border-left:white solid 1px;background-image:linear-gradient(to right,#050064cc,#0000)}.LogoIcon[_ngcontent-%COMP%]{width:3.5vw;height:5%;padding:.4vh;border-bottom:solid black}div[_ngcontent-%COMP%]{flex-direction:column;display:flex;flex-wrap:nowrap;justify-content:center;align-items:center}"]})};var f=class t{static \u0275fac=function(o){return new(o||t)};static \u0275cmp=s({type:t,selectors:[["app-account-component"]],features:[p([],[h({hugeNotification01:G,hugeUserCircle02:Z})])],decls:3,vars:0,consts:[["name","hugeNotification01","routerLink","/notifications"],["name","hugeUserCircle02","routerLink","/login",1,"userIcon"]],template:function(o,n){o&1&&(i(0,"div"),a(1,"ng-icon",0)(2,"ng-icon",1),r())},dependencies:[u,d],styles:["*[_ngcontent-%COMP%]{margin:0}ng-icon[_ngcontent-%COMP%]{color:#fff;width:1.8vw;height:3.7vh;padding:.7vh;margin:.5vh 0;border-radius:20vh}ng-icon[_ngcontent-%COMP%]:hover{transition:.3s ease-in-out;background-color:#80808085}ng-icon[_ngcontent-%COMP%]:active{background-color:#808080df;transition:.1s ease-in-out}.userIcon[_ngcontent-%COMP%]{margin-block-end:1.8vh;padding-block-start:.7vh}div[_ngcontent-%COMP%]{flex-direction:column;display:flex;flex-wrap:nowrap;justify-content:center;align-items:center}"]})};var C=class t{static \u0275fac=function(o){return new(o||t)};static \u0275cmp=s({type:t,selectors:[["app-header"]],decls:3,vars:0,template:function(o,n){o&1&&(i(0,"section"),a(1,"app-sidebar")(2,"app-account-component"),r())},dependencies:[g,f],styles:["section[_ngcontent-%COMP%]{background:#253548;border-radius:1rem;box-shadow:4px 4px 10px #0000004d,-4px -4px 10px #ffffff0d;color:#cdd9e5;display:flex;flex-shrink:1;flex-direction:column;justify-content:space-between;width:4vw;height:98vh;border-radius:.8vh;margin-top:1.1vh;margin-left:.5vw}"]})};var v=class t{constructor(){}getCurrentLocation(){return new Promise((e,o)=>{"geolocation"in navigator?navigator.geolocation.getCurrentPosition(n=>{e({latitude:n.coords.latitude,longitude:n.coords.longitude})},n=>{o(n.message)}):o("geolocation is not available in this browser")})}static \u0275fac=function(o){return new(o||t)};static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})};function z(t,e){t&1&&(i(0,"div",0)(1,"h1"),D(2,"LOADING"),r()())}function B(t,e){t&1&&(i(0,"div")(1,"header"),a(2,"app-header"),r(),i(3,"main"),a(4,"router-outlet"),r()())}var b=class t{cdr;destroy=new x;settingsChangedSubscription;weatherdata=m(N);deviceLocation=m(v);dataService=m(w);settings=m(F);autoLAT;autoLON;dateConstructor=new Date;date=L(this.dateConstructor.toLocaleDateString());searchedLocation=this.dataService.getSearchTerm();listCities=[];twoWeeksData=L(void 0);title="Weather-App";key="14165bbcf9dd417ddc8ee87ecd6fbe32";defaultCITY="London";defaultCountry="uk";defaultLat=55.37;defaultLon=3.43;active=!0;loaded=!1;ngOnInit(){this.active&&this.deviceLocation.getCurrentLocation().then(e=>{this.autoLAT=e.latitude,this.autoLON=e.longitude,this.weatherdata.getReverseLocationInfo(this.key,this.autoLAT||this.defaultLat,this.autoLON||this.defaultLon,this.settings.getSettings().units).then(o=>{this.dataService.setCurrentWeatherData(o),console.log(this.dataService.getCurrentWeather())}),this.weatherdata.getTwoWeeksForcast(this.key,this.autoLAT||this.defaultLat,this.autoLON||this.defaultLon,this.settings.getSettings().units).pipe(c(this.destroy)).subscribe(o=>{this.dataService.setTwoWeeksData(o)})}).catch(e=>{console.log("This is the error with the geolocation: "+e)}),this.settingsChangedSubscription=this.settings.settingsChanged$.subscribe(e=>{e&&this.refreshApp()}),this.loaded=!0}searchLocations(){this.weatherdata.getLocationInfo(this.key,this.searchedLocation).pipe(c(this.destroy)).subscribe(e=>{this.dataService.setSearch(e)})}onSearchLocationSubmit(e){if(e===""){this.dataService.clearSearch();return}this.dataService.setSearchTerm(e),this.searchLocations()}UpdateWeather(e,o,n,S){this.weatherdata.getWeatherDataFromApi(e,o,n,S).pipe(c(this.destroy)).subscribe(y=>{this.dataService.setCurrentWeatherData(y)})}updateForecast(e,o,n,S){this.weatherdata.getTwoWeeksForcast(e,o,n,S).pipe(c(this.destroy)).subscribe(y=>{this.dataService.setTwoWeeksData(y)})}searchResultClicked(e){this.UpdateWeather(this.key,e.name,e.country,this.settings.getSettings().units),this.updateForecast(this.key,e.lat,e.lon,this.settings.getSettings().units),this.dataService.clearSearch()}ngOnDestroy(){this.destroy.next(),this.destroy.complete()}refreshApp(){this.active&&this.deviceLocation.getCurrentLocation().then(e=>{this.autoLAT=e.latitude,this.autoLON=e.longitude,this.weatherdata.getReverseLocationInfo(this.key,this.autoLAT,this.autoLON,this.settings.getSettings().units).then(o=>{this.dataService.setCurrentWeatherData(o),console.log(this.dataService.getCurrentWeather())}),this.weatherdata.getTwoWeeksForcast(this.key,this.autoLAT,this.autoLON,this.settings.getSettings().units).pipe(c(this.destroy)).subscribe(o=>{this.dataService.setTwoWeeksData(o)})}).catch(e=>{console.log("This is the error with the geolocation: "+e)})}static \u0275fac=function(o){return new(o||t)};static \u0275cmp=s({type:t,selectors:[["app-root"]],features:[p([w])],decls:2,vars:1,consts:[[1,"loadingScreen"]],template:function(o,n){o&1&&M(0,z,3,0,"div",0)(1,B,5,0,"div"),o&2&&O(n.loaded?1:0)},dependencies:[C,I],styles:["*[_ngcontent-%COMP%]{margin:0}div[_ngcontent-%COMP%]{display:flex;height:100vh;width:100%}header[_ngcontent-%COMP%]{width:fit-content}app-header[_ngcontent-%COMP%]{background-image:linear-gradient(to right,#282c26,#274657);width:fit-content}main[_ngcontent-%COMP%]{display:block;width:100%}app-home[_ngcontent-%COMP%]{display:flex;width:100%;flex-shrink:1}"]})};W(b,q).catch(t=>console.error(t));
